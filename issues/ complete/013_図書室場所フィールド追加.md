# Issue #013: 図書室場所フィールド追加

## 問題の概要
図書室管理画面で場所（location）フィールドが保存・表示されない問題を修正しました。

## 根本原因
1. データベーススキーマに`location`フィールドが存在しなかった
2. バックエンドAPIが`location`フィールドを処理していなかった
3. データベースは`library_rooms`テーブルを使用し、`description`フィールドはあったが`location`フィールドがなかった

## 実施した修正

### 1. データベーススキーマの更新
- `library_rooms`テーブルに`location TEXT`フィールドを追加
- 既存のレコードにデフォルトの場所情報を設定（第一図書室：本館1階、第二図書室：本館2階）
- `init_database.py`を更新して新規データベース作成時にlocationフィールドを含めるように変更

### 2. バックエンドAPIの更新 (app.py)
- GET `/api/libraries`: locationフィールドを含めるようにSQLクエリを更新
- POST `/api/libraries`: locationフィールドを受け取って保存するように更新
- PUT `/api/libraries/{id}`: locationフィールドの更新をサポート
- 各エンドポイントのレスポンスにlocationフィールドを含める

### 3. 動作確認
- GET: 既存の図書室データでlocationフィールドが正しく返されることを確認
- POST: 新規図書室作成時にlocationフィールドが保存されることを確認
- PUT: 既存図書室のlocation更新が正しく動作することを確認

## テスト結果
```bash
# GET確認
curl http://localhost:5012/api/libraries
# → locationフィールドが含まれる（例：「本館1階」）

# POST確認
curl -X POST http://localhost:5012/api/libraries \
  -H "Content-Type: application/json" \
  -d '{"name": "第三図書室", "location": "別館3階", "capacity": 3}'
# → 新規作成された図書室にlocationが保存される

# PUT確認
curl -X PUT http://localhost:5012/api/libraries/4 \
  -H "Content-Type: application/json" \
  -d '{"location": "別館3階北側"}'
# → locationフィールドが更新される
```

## フロントエンドとの互換性
- フロントエンドのLibraryインターフェースは既に`location?: string`を含んでいた
- 図書室管理画面(libraries/page.tsx)は既にlocationフィールドの入力・表示をサポート
- APIサービス(api.ts)も既にlocationフィールドを処理可能

## 完了日
2025年5月27日