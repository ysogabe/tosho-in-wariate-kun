# Issue #008: 図書室場所表示問題修正

## 概要

図書室管理画面で図書室情報を編集し、場所を入力して保存しても、一覧画面で場所が表示されません。また、再度編集画面を開いても入力した場所情報が表示されない状態になっています。

## 背景

データベース構造変更（Issue #003）に伴い、図書室テーブルが「libraries」から「library_rooms」に変更されました。フロントエンドと新しいバックエンドの間でフィールド名の不一致が発生している可能性があります。

## 対応すべきファイル

1. `/mock_backend/app.py` - バックエンドAPIのレスポンス形式を修正
2. `/frontend/src/services/api.ts` - フロントエンドのAPI連携部分を修正（必要に応じて）

## タスク

### 1. バックエンドAPIのレスポンス形式の修正

- [ ] 図書室情報取得時のレスポンスに「location」フィールドが正しく含まれているか確認
- [ ] 図書室情報更新時に「location」フィールドが正しく保存されているか確認
- [ ] 必要に応じてフィールド名のマッピングを修正

### 2. 単体テストの実施

- [ ] バックエンドAPIの単体テストを実施し、修正が正しく機能しているか確認
- [ ] 図書室の場所情報が正しく保存され、取得できることを確認

### 3. 動作確認

- [ ] フロントエンドサーバー（ポート3000）とバックエンドサーバー（ポート5001）を起動
- [ ] 図書室管理画面で図書室情報を編集し、場所情報が正しく表示されることを確認
- [ ] 編集後の図書室を再度編集画面で開き、場所情報が正しく表示されることを確認

## 期待される結果

図書室管理画面で図書室情報の場所が正しく表示され、編集後も保持されるようになります。

## 実施結果

### 実装内容

1. `library_rooms`テーブルに`location`カラムを追加
   ```sql
   ALTER TABLE library_rooms ADD COLUMN location TEXT;
   ```

2. バックエンドAPIの修正
   - 図書室情報取得時に`location`フィールドを含めるように修正
   - 図書室情報更新時に`location`フィールドを正しく保存するように修正

### テスト結果

画面でテストし、以下の点を確認しました。

1. 図書室管理画面で図書室情報を編集し、場所情報が正しく保存されることを確認
2. 一覧画面で場所情報が正しく表示されることを確認
3. 編集画面を再度開いた際に、場所情報が正しく表示されることを確認

APIの単体テストも完了し、正しく動作することを確認しました。

### 結論

データベーススキーマの修正とバックエンドAPIの対応により、図書室の場所表示問題は解決されました。これにより、図書室管理機能が正しく動作するようになりました。

## ステータス

完了
