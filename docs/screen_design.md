# 画面設計仕様書 - 図書委員当番割り当てシステム

## 1. 画面構成概要

システムは以下の画面構成で構成されます：

```
トップページ
├── 認証
│   ├── ログイン画面
│   ├── ユーザ登録画面
│   └── パスワードリセット画面
├── 週間スケジュール表示（メイン画面）
├── 管理パネル
│   ├── 基本情報管理
│   │   ├── 学年管理
│   │   ├── クラス管理
│   │   ├── 図書委員管理
│   │   ├── 図書室管理
│   │   └── 図書室利用時間設定
│   ├── スケジュール管理
│   │   ├── スケジュールルール設定
│   │   ├── スケジュール生成
│   │   ├── スケジュール編集
│   │   └── スケジュール検証
│   └── 出力・レポート
│       └── 月間カレンダー表示
└── スケジュール編集画面
```

## 2. 共通UI要素

### 2.1 ヘッダー

全画面共通のヘッダー要素：

- システムロゴ（左上）：本のアイコンとシステム名
- 現在のページタイトル（中央）
- ユーザメニュー（右上）
  - ログイン中のユーザ名
  - 管理パネルアクセス用の歯車アイコン
  - ログアウトボタン

### 2.2 ナビゲーション

以下の項目を含む簡潔なナビゲーションメニュー：

- 週間スケジュール（メイン画面）
- スケジュール編集
- 月間カレンダー

### 2.3 デザインシステム

- カラースキーム：親しみやすい外観のための明るいパステルカラー
- タイポグラフィ：明確なフォントによる読みやすさ重視
- レイアウト：様々な画面サイズに対応するレスポンシブ設計
- アイコン：システム全体で一貫したアイコン体系
- 背景：情報表示のための白い半透明背景

## 3. メインダッシュボード画面

### 3.1 画面概要
ユーザが最初に見る主要画面で、当日の当番割り当てと週間スケジュールを表示します。

### 3.2 レイアウト構成
- ヘッダーセクション：学校名、ログインユーザ情報
- メインセクション：
  - 左側：今日の当番割り当て
  - 右側：週間スケジュール（月曜日-金曜日）
- フッターセクション：管理パネルへのリンク

### 3.3 表示要素

#### 3.3.1 今日の当番情報
- 曜日表示
- 担当委員付きの図書室割り当て
- 割り当てが存在しない場合のアラートメッセージ
- アイコンと名前による委員表示

#### 3.3.2 週間スケジュール
- 日別表示（特定の日付なし）
- 各日の図書室割り当て
- 委員アイコンと名前
- 未割り当てスロットの視覚的インジケーター

### 3.4 ユーザインタラクション
- 委員名クリックで詳細情報表示
- インタラクティブ要素のホバーエフェクト
- スケジュール修正用のクイック編集ボタン

### 3.5 画面遷移
- 管理ボタン → 管理パネル
- 編集ボタン → スケジュール編集画面
- カレンダーリンク → 月間カレンダー表示

## 4. 認証画面

### 4.1 ログイン画面

#### 4.1.1 レイアウト
- 中央配置のログインフォーム
- 上部に学校ロゴ
- ユーザ名/パスワードフィールド
- ログインボタン
- 登録・パスワードリセットへのリンク

#### 4.1.2 フォームフィールド
- ユーザ名（必須）
- パスワード（必須、マスク入力）
- ログイン状態を保持するチェックボックス
- バリデーションメッセージ

#### 4.1.3 エラーハンドリング
- 無効な認証情報メッセージ
- フィールドバリデーションエラー
- 接続タイムアウトメッセージ

### 4.2 ユーザ登録画面

#### 4.2.1 フォームフィールド
- ユーザ名（一意性検証）
- メールアドレス
- パスワード（強度要件）
- パスワード確認
- 学年・クラス選択
- 役割割り当て（該当する場合）

#### 4.2.2 バリデーションルール
- ユーザ名可用性チェック
- メール形式検証
- パスワード強度要件
- パスワード確認の一致

### 4.3 パスワードリセット画面

#### 4.3.1 プロセスフロー
- リセット要求のメール入力
- 確認メッセージ
- リセットリンク付きメール
- 新パスワード入力フォーム

## 5. 管理パネル

### 5.1 メイン管理ダッシュボード

#### 5.1.1 レイアウト
- 管理パネルタイトル付きヘッダー
- メインダッシュボードへの戻りリンク
- 管理メニューグリッド

#### 5.1.2 管理セクション
- **基本情報管理**
  - 学年管理
  - クラス管理
  - 図書委員管理
  - 図書室管理
  - 利用時間設定

- **スケジュール管理**
  - スケジュールルール設定
  - スケジュール生成
  - スケジュール編集
  - スケジュール検証

- **レポート・出力**
  - 月間カレンダー表示
  - 割り当て統計
  - 委員実績レポート

### 5.2 学年管理画面

#### 5.2.1 機能
- 学年の追加/編集/削除
- 学年レベルの順序付け
- 関連クラス数表示

#### 5.2.2 フォームフィールド
- 学年名（例："1年生"、"2年生"）
- 学年レベル（数値順序）
- ステータス（アクティブ/非アクティブ）

### 5.3 クラス管理画面

#### 5.3.1 機能
- クラス作成・管理
- 学年関連付け
- クラス定員設定

#### 5.3.2 フォームフィールド
- クラス名（例："1-A"、"2-B"）
- 関連学年選択
- 最大生徒定員
- 現在の生徒数

### 5.4 図書委員管理画面

#### 5.4.1 機能
- 委員登録・編集
- 役割割り当て
- 利用可能性設定
- 一括インポート機能

#### 5.4.2 フォームフィールド
- 生徒名
- 学年・クラス選択
- 連絡先情報
- 役割（一般委員、リーダー等）
- 利用可能性設定
- 特記事項

### 5.5 図書室管理画面

#### 5.5.1 機能
- 図書室設定
- 定員設定
- 設備管理

#### 5.5.2 フォームフィールド
- 図書室名/識別子
- 図書室定員
- 必要スタッフ数
- 特別設備・要件
- 運営スケジュール

### 5.6 スケジュールルール設定画面

#### 5.6.1 機能
- 割り当てルール定義
- 制約設定
- 優先度設定
- ルール検証

#### 5.6.2 設定オプション
- 委員1人あたりの最大連続日数
- 割り当て間の最小休息日数
- 学年/クラス分散ルール
- 特別イベント対応
- 休日スケジュール調整

### 5.7 スケジュール生成画面

#### 5.7.1 機能
- 自動スケジュール作成
- 手動調整オプション
- 衝突解決
- プレビュー・承認

#### 5.7.2 生成プロセス
- 日付範囲選択
- ルール適用
- 衝突検出・解決
- スケジュールプレビュー
- 最終承認・保存

### 5.8 スケジュール検証画面

#### 5.8.1 機能
- ルール適合性チェック
- 衝突識別
- 修正提案
- 検証レポート

#### 5.8.2 検証結果
- ルール違反リスト
- 委員作業負荷分析
- カバレッジギャップ識別
- 推奨修正

## 6. スケジュール編集画面

### 6.1 機能
- 個別割り当て修正
- ドラッグアンドドロップ機能
- 一括操作
- 変更履歴追跡

### 6.2 レイアウト
- カレンダーグリッド表示
- 委員リストパネル
- 編集ツール・コントロール
- 保存/キャンセルオプション

### 6.3 編集操作
- 割り当て追加/削除
- 委員割り当て交換
- 日間での割り当てコピー
- 元に戻す/やり直し機能

## 7. 月間カレンダー表示

### 7.1 機能
- 月全体表示
- 割り当て概要
- 印刷対応フォーマット
- エクスポートオプション

### 7.2 表示要素
- 日次割り当て付きカレンダーグリッド
- 図書室別色分け
- 委員名表示
- 特別イベントマーカー

### 7.3 エクスポートオプション
- PDF生成
- Excelスプレッドシートエクスポート
- 印刷プレビュー
- メール配信

## 8. レスポンシブ設計考慮事項

### 8.1 モバイル対応
- タッチフレンドリーインターフェース
- 小画面向け簡略ナビゲーション
- 重要情報の優先表示
- ナビゲーション用スワイプジェスチャー

### 8.2 タブレット最適化
- タブレット画面向け最適化レイアウト
- 強化されたタッチインタラクション
- サイドパネルナビゲーション
- 適切な場所でのマルチカラムレイアウト

### 8.3 デスクトップ機能
- 全機能セットの利用可能性
- キーボードショートカット
- マルチウィンドウサポート
- 高度な編集機能

## 9. アクセシビリティ機能

### 9.1 スクリーンリーダーサポート
- 適切な見出し構造
- 画像の代替テキスト
- フォームラベル関連付け
- キーボードナビゲーションサポート

### 9.2 視覚的アクセシビリティ
- ハイコントラストモードサポート
- スケーラブルフォントサイズ
- 色覚障害対応設計
- フォーカスインジケーター

### 9.3 運動機能アクセシビリティ
- 大きなクリック可能エリア
- キーボードのみのナビゲーション
- 音声コマンドサポート
- カスタマイズ可能なインターフェースタイミング

## 10. パフォーマンス考慮事項

### 10.1 読み込み最適化
- コンテンツの段階的読み込み
- 大規模データセットの遅延読み込み
- 最適化された画像配信
- キャッシュ戦略

### 10.2 ユーザエクスペリエンス
- スムーズなトランジション・アニメーション
- ユーザアクションに対する即座のフィードバック
- エラー防止・復旧
- 可能な限りのオフライン機能
